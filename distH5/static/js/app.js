webpackJsonp([1],{"/EFV":function(t,e){},"4PUv":function(t,e){},"5lMH":function(t,e){},"5mb9":function(t,e){},A4bT:function(t,e){},IVAD:function(t,e){},JkAJ:function(t,e){},MbM6:function(t,e){},bT6r:function(t,e,s){"use strict";var i=s("x6d+"),n=(i.a,Boolean,Number,String,String,String,Boolean,String,String,{name:"toast",mixins:[i.a],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(t){var e=this;t&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("input",!1),e.$emit("on-hide"),e.fixSafariOverflowScrolling("touch")},this.time))},value:function(t){this.show=t}}}),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-toast"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMask&&t.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),t._v(" "),s("transition",{attrs:{name:t.currentTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-toast",class:t.toastClass,style:{width:t.width}},[s("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==t.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),t._v(" "),t.text?s("p",{staticClass:"weui-toast__content",style:t.style,domProps:{innerHTML:t._s(t.text)}}):s("p",{staticClass:"weui-toast__content",style:t.style},[t._t("default")],2)])])],1)},staticRenderFns:[]};var o=s("C7Lr")(n,a,!1,function(t){s("IVAD")},null,null);e.a=o.exports},ifGz:function(t,e){},j7op:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("xd7I"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=s("C7Lr")({name:"App"},n,!1,function(t){s("/EFV")},null,null).exports,o=s("3XdE"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{staticClass:"card"},[this._v("\n    "+this._s(this.text)+"\n  ")])])},staticRenderFns:[]};var c=s("C7Lr")({props:["text"]},r,!1,function(t){s("xK4k")},null,null).exports,l={data:function(){return{motto:"Hello miniprograme",userInfo:{nickName:"mpvue",avatarUrl:"http://mpvue.com/assets/logo.png"}}},components:{card:c},methods:{bindViewTap:function(){var t="../logs/main";"wx"===mpvuePlatform?mpvue.switchTab({url:t}):mpvue.navigateTo({url:t})},clickHandle:function(t){console.log("clickHandle:",t)}},created:function(){}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{on:{click:t.clickHandle}},[s("view",[t._v("123")]),t._v(" "),s("div",{staticClass:"userinfo",on:{click:t.bindViewTap}},[t.userInfo.avatarUrl?s("img",{staticClass:"userinfo-avatar",attrs:{src:t.userInfo.avatarUrl,"background-size":"cover"}}):t._e(),t._v(" "),s("img",{staticClass:"userinfo-avatar",attrs:{src:"/static/images/user.png","background-size":"cover"}}),t._v(" "),s("div",{staticClass:"userinfo-nickname"},[s("card",{attrs:{text:t.userInfo.nickName}})],1)]),t._v(" "),s("div",{staticClass:"usermotto"},[s("div",{staticClass:"user-motto"},[s("card",{attrs:{text:t.motto}})],1)]),t._v(" "),s("form",{staticClass:"form-container"},[s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"v-model"},domProps:{value:t.motto}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.motto,expression:"motto"}],staticClass:"form-control",attrs:{type:"text",placeholder:"v-model"},domProps:{value:t.motto},on:{input:function(e){e.target.composing||(t.motto=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.motto,expression:"motto",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"v-model.lazy"},domProps:{value:t.motto},on:{change:function(e){t.motto=e.target.value}}})]),t._v(" "),s("a",{staticClass:"counter",attrs:{href:"/pages/counter/main"}},[t._v("去往Vuex示例页面")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"all"},[e("div",{staticClass:"left"}),this._v(" "),e("div",{staticClass:"right"})])}]};var d=s("C7Lr")(l,u,!1,function(t){s("ifGz")},"data-v-c4ad5daa",null).exports,m=s("2bvH");i.a.use(m.a);var h=new m.a.Store({state:{count:0},mutations:{increment:function(t){t.count+=1},decrement:function(t){t.count-=1}}}),v={computed:{count:function(){return h.state.count}},methods:{increment:function(){h.commit("increment")},decrement:function(){h.commit("decrement")}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"counter-warp"},[s("p",[t._v("Vuex counter："+t._s(t.count))]),t._v(" "),s("p",[s("button",{on:{click:t.increment}},[t._v("+")]),t._v(" "),s("button",{on:{click:t.decrement}},[t._v("-")])])])},staticRenderFns:[]};var p=s("C7Lr")(v,g,!1,function(t){s("5mb9")},null,null).exports;function f(t){var e=t.toString();return e[1]?e:"0"+e}function w(t){var e=t.getFullYear(),s=t.getMonth()+1,i=t.getDate(),n=t.getHours(),a=t.getMinutes(),o=t.getSeconds();return[e,s,i].map(f).join("/")+" "+[n,a,o].map(f).join(":")}var _={components:{card:c},data:function(){return{logs:[],imgUrls:["http://mss.sankuai.com/v1/mss_51a7233366a4427fa6132a6ce72dbe54/newsPicture/05558951-de60-49fb-b674-dd906c8897a6","http://mss.sankuai.com/v1/mss_51a7233366a4427fa6132a6ce72dbe54/coursePicture/0fbcfdf7-0040-4692-8f84-78bb21f3395d","http://mss.sankuai.com/v1/mss_51a7233366a4427fa6132a6ce72dbe54/management-school-picture/7683b32e-4e44-4b2f-9c03-c21f34320870"]}},created:function(){var t=void 0;t="my"===mpvuePlatform?mpvue.getStorageSync({key:"logs"}).data||[]:mpvue.getStorageSync("logs")||[],this.logs=t.map(function(t){return w(new Date(t))})}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.imgUrls.length>0?s("swiper",{attrs:{"indidator-dots":"imgUrls.length > 1"}},t._l(t.imgUrls,function(t,e){return s("block",{key:e},[s("swiper-item",[s("image",{attrs:{src:t,mode:"scaleToFill"}})])],1)}),1):t._e(),t._v(" "),s("ul",{staticClass:"container log-list"},t._l(t.logs,function(e,i){return s("li",{key:i,staticClass:"log-item",class:{red:t.aa}},[s("card",{attrs:{text:i+1+" . "+e}})],1)}),0)],1)},staticRenderFns:[]};var C=s("C7Lr")(_,x,!1,function(t){s("5lMH")},null,null).exports,b=s("lC5x"),k=s.n(b),y=s("rVsN"),L=s.n(y),S=s("J0Oq"),I=s.n(S),T=s("ZJOS"),R=s("TdyD");i.a.use(T.a),i.a.use(R.a);var U={navigateTo:function(t){var e=t.url;console.log(e),Q.push({path:e})},redirectTo:function(t){var e=t.url;Q.replace({path:e})},navigateBack:function(){Q.go(-1)},showToast:function(t){var e=t.title;i.a.$vux.toast.show({text:e})},showModal:function(t){var e=t.title,s=t.content,n=t.success;i.a.$vux.confirm.show({title:e,content:s,onConfirm:function(){n&&n({confirm:!0,cancel:!1})},onCancel:function(){n&&n({confirm:!1,cancel:!0})}})}};window.wx=U;var $=U,B=s("1/6t"),A=s.n(B).a;A.interceptors.request.use(function(t){return console.log("flyio发请求,request为",t),t}),A.interceptors.response.use(function(t,e){return e.resolve(t.data)},function(t,e){return $.showToast({title:t.message,icon:"none"}),e.resolve()});var N=A,D="http://51eim.kuaiguo.net/lifequan.php?m=Shop&shop_id=682",P={getIndexData:function(t){return N.get("index/index",null,{baseURL:D})},getCatalogList:function(t){return N.get("catalog/index",null,{baseURL:D})},getCatalogCurrent:function(t){return N.get("catalog/current",t,{baseURL:D})},AuthLoginByWeixin:D+"auth/loginByWeixin",PayPrepayId:D+"pay/prepay",PayPrepayIdFunc:function(t){return N.get("pay/prepay",t,{baseURL:D})},getGoodsCount:function(t){return N.get("goods/count",null,{baseURL:D})},getGoodsList:function(t){return N.get("goods/list",t,{baseURL:D})},getGoodsCategory:function(t){return N.get("goods/category",t,{baseURL:D})},getGoodsDetail:function(t){return N.get("&a=test2",t,{baseURL:D})},getGoodsNew:function(t){return N.get("goods/new",null,{baseURL:D})},getGoodsHot:function(t){return N.get("goods/hot",null,{baseURL:D})},getGoodsRelated:function(t){return N.get("goods/related",t,{baseURL:D})},getBrandList:function(t){return N.get("brand/list",t,{baseURL:D})},getBrandDetail:function(t){return N.get("brand/detail",t,{baseURL:D})},getCartList:function(t){return N.get("cart/index",null,{baseURL:D})},CartAdd:function(t){return N.post("cart/add",t,{baseURL:D})},CartUpdate:function(t){return N.post("cart/update",t,{baseURL:D})},CartDelete:function(t){return N.post("cart/delete",t,{baseURL:D})},CartChecked:function(t){return N.post("cart/checked",t,{baseURL:D})},getCartGoodsCount:function(t){return N.get("cart/goodscount",null,{baseURL:D})},CartCheckout:function(t){return N.get("cart/checkout",t,{baseURL:D})},OrderSubmit:function(t){return N.post("order/submit",t,{baseURL:D})},getCollectList:function(t){return N.get("collect/list",t,{baseURL:D})},CollectAddOrDelete:function(t){return N.post("collect/addordelete",t,{baseURL:D})},getCommentList:function(t){return N.get("comment/list",t,{baseURL:D})},getCommentCount:function(t){return N.get("comment/count",t,{baseURL:D})},CommentPost:function(t){return N.post("comment/post",t,{baseURL:D})},getTopicList:function(t){return N.get("topic/list",t,{baseURL:D})},getTopicDetail:function(t){return N.get("topic/detail",t,{baseURL:D})},TopicRelated:function(t){return N.get("topic/related",t,{baseURL:D})},SearchIndex:function(t){return N.get("search/index",null,{baseURL:D})},SearchResult:function(t){return N.get("search/result",null,{baseURL:D})},SearchHelper:function(t){return N.get("search/helper",t,{baseURL:D})},ClearSearchHistory:function(t){return N.post("search/clearhistory",null,{baseURL:D})},getAddressList:function(t){return N.get("address/list",null,{baseURL:D})},getAddressDetail:function(t){return N.get("address/detail",t,{baseURL:D})},AddressSave:function(t){return N.post("address/save",t,{baseURL:D})},AddressDelete:function(t){return N.post("address/delete",t,{baseURL:D})},getRegionList:function(t){return N.get("region/list",t,{baseURL:D})},getOrderList:function(t){return N.get("order/list",null,{baseURL:D})},getOrderDetail:function(t){return N.get("order/detail",t,{baseURL:D})},OrderCancel:function(t){return N.get("order/cancel",null,{baseURL:D})},getOrderExpress:function(t){return N.post("order/express",t,{baseURL:D})},getFootprintList:function(t){return N.get("footprint/list",null,{baseURL:D})},FootprintDelete:function(t){return N.post("footprint/delete",t,{baseURL:D})}},V=s("3cXf"),G=s.n(V),M=s("9Q05"),O=s("adVT"),F=(Array,String,Boolean,Boolean,String,String,Boolean,Boolean,Number,Number,Number,String,Number,Number,Number,{name:"swiper",created:function(){this.index=this.value||0,this.index&&(this.current=this.index)},mounted:function(){var t=this;this.hasTwoLoopItem(),this.$nextTick(function(){t.list&&0===t.list.length||t.render(t.index),t.xheight=t.getHeight(),t.$emit("on-get-height",t.xheight)})},methods:{hasTwoLoopItem:function(){2===this.list.length&&this.loop?this.listTwoLoopItem=this.list:this.listTwoLoopItem=[]},clickListItem:function(t){Object(O.a)(t.url,this.$router),this.$emit("on-click-list-item",JSON.parse(G()(t)))},buildBackgroundUrl:function(t){return t.fallbackImg?"url("+t.img+"), url("+t.fallbackImg+")":"url("+t.img+")"},render:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.swiper&&this.swiper.destroy(),this.swiper=new M.a({container:this.$el,direction:this.direction,auto:this.auto,loop:this.loop,interval:this.interval,threshold:this.threshold,duration:this.duration,height:this.height||this._height,minMovingDistance:this.minMovingDistance,imgList:this.imgList}).on("swiped",function(e,s){t.current=s%t.length,t.index=s%t.length}),e>0&&this.swiper.go(e)},rerender:function(){var t=this;this.$el&&!this.hasRender&&(this.hasRender=!0,this.hasTwoLoopItem(),this.$nextTick(function(){t.index=t.value||0,t.current=t.value||0,t.length=t.list.length||t.$children.length,t.destroy(),t.render(t.value)}))},destroy:function(){this.hasRender=!1,this.swiper&&this.swiper.destroy()},getHeight:function(){var t=parseInt(this.height,10);return t?this.height:t?void 0:this.aspectRatio?this.$el.offsetWidth*this.aspectRatio+"px":"180px"}},props:{list:{type:Array,default:function(){return[]}},direction:{type:String,default:"horizontal"},showDots:{type:Boolean,default:!0},showDescMask:{type:Boolean,default:!0},dotsPosition:{type:String,default:"right"},dotsClass:String,auto:Boolean,loop:Boolean,interval:{type:Number,default:3e3},threshold:{type:Number,default:50},duration:{type:Number,default:300},height:{type:String,default:"auto"},aspectRatio:Number,minMovingDistance:{type:Number,default:0},value:{type:Number,default:0}},data:function(){return{hasRender:!1,current:this.index||0,xheight:"auto",length:this.list.length,index:0,listTwoLoopItem:[]}},watch:{auto:function(t){t?this.swiper&&this.swiper._auto():this.swiper&&this.swiper.stop()},list:function(t,e){G()(t)!==G()(e)&&this.rerender()},current:function(t){this.index=t,this.$emit("on-index-change",t)},index:function(t){var e=this;t!==this.current&&this.$nextTick(function(){e.swiper&&e.swiper.go(t)}),this.$emit("input",t)},value:function(t){this.index=t}},beforeDestroy:function(){this.destroy()}}),H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-slider"},[s("div",{staticClass:"vux-swiper",style:{height:t.xheight}},[t._t("default"),t._v(" "),t._l(t.list,function(e,i){return s("div",{staticClass:"vux-swiper-item",attrs:{"data-index":i},on:{click:function(s){return t.clickListItem(e)}}},[s("a",{attrs:{href:"javascript:"}},[s("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?s("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])])}),t._v(" "),t._l(t.listTwoLoopItem,function(e,i){return t.listTwoLoopItem.length>0?s("div",{staticClass:"vux-swiper-item vux-swiper-item-clone",attrs:{"data-index":i},on:{click:function(s){return t.clickListItem(e)}}},[s("a",{attrs:{href:"javascript:"}},[s("div",{staticClass:"vux-img",style:{backgroundImage:t.buildBackgroundUrl(e)}}),t._v(" "),t.showDescMask?s("p",{staticClass:"vux-swiper-desc"},[t._v(t._s(e.title))]):t._e()])]):t._e()})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDots,expression:"showDots"}],class:[t.dotsClass,"vux-indicator","vux-indicator-"+t.dotsPosition]},t._l(t.length,function(e){return s("a",{attrs:{href:"javascript:"}},[s("i",{staticClass:"vux-icon-dot",class:{active:e-1===t.current}})])}),0)])},staticRenderFns:[]};var E=s("C7Lr")(F,H,!1,function(t){s("A4bT")},null,null).exports,j={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-swiper-item"},[this._t("default")],2)},staticRenderFns:[]},z=s("C7Lr")({name:"swiper-item",mounted:function(){var t=this;this.$nextTick(function(){t.$parent.rerender()})},beforeDestroy:function(){var t=this.$parent;this.$nextTick(function(){t.rerender()})}},j,!1,null,null,null).exports,q={components:{Swiper:E,SwiperItem:z},data:function(){return{id:0,goods:{},gallery:[{img_url:""}],attribute:[],issueList:[],comment:[],brand:{},specificationList:[],productList:[],relatedGoods:[],cartGoodsCount:0,userHasCollect:0,number:1,checkedSpecText:"请选择规格数量",openAttr:!1,noCollectImage:this.$parent.imgSrc+"/static/images/icon_collect.png",hasCollectImage:this.$parent.imgSrc+"/static/images/icon_collect_checked.png",collectBackImage:this.$parent.imgSrc+"/static/images/icon_collect.png",goodDetailHTMLstr:""}},mounted:function(){var t=this;return I()(k.a.mark(function e(){var s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$route.query.id&&(t.id=parseInt(t.$route.query.id)),e.next=3,L.a.all([t.getGoodsInfo()]);case 3:return e.next=5,P.getCartGoodsCount();case 5:0===(s=e.sent).errno&&(t.cartGoodsCount=s.data.cartTotal.goodsCount);case 7:case"end":return e.stop()}},e,t)}))()},methods:{getGoodsInfo:function(){var t=this;return I()(k.a.mark(function e(){var s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getGoodsDetail({id:t.id});case 2:s=e.sent,console.log("商品详情,请求结果",s),0===s.errno&&(t.goods=s.data.info,t.gallery=s.data.gallery.length>0?s.data.gallery:[{img_url:t.imgSrc+"/static/images/icon_error.png"}],t.attribute=s.data.attribute,t.issueList=s.data.issue,t.comment=s.data.comment,t.brand=s.data.brand,t.specificationList=s.data.specificationList,t.productList=s.data.productList,t.userHasCollect=s.data.userHasCollect,1===s.data.userHasCollect?t.collectBackImage=t.hasCollectImage:t.collectBackImage=t.noCollectImage,t.goodDetailHTMLstr=s.data.info.goods_desc?s.data.info.goods_desc:"暂无详情数据",t.getGoodsRelated());case 5:case"end":return e.stop()}},e,t)}))()},getGoodsRelated:function(){var t=this;return I()(k.a.mark(function e(){var s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getGoodsRelated({id:t.id});case 2:0===(s=e.sent).errno&&(t.relatedGoods=s.data.goodsList);case 4:case"end":return e.stop()}},e,t)}))()},clickSkuValue:function(t){var e=t.currentTarget.dataset.nameId,s=t.currentTarget.dataset.valueId;console.log(e+"|"+s);for(var i=this.specificationList,n=0;n<i.length;n++)if(i[n].specification_id==e)for(var a=0;a<i[n].valueList.length;a++)i[n].valueList[a].id==s?i[n].valueList[a].checked?i[n].valueList[a].checked=!1:i[n].valueList[a].checked=!0:i[n].valueList[a].checked=!1;this.specificationList=i,this.changeSpecInfo()},getCheckedSpecValue:function(){for(var t=[],e=this.specificationList,s=0;s<e.length;s++){for(var i={nameId:e[s].specification_id,valueId:0,valueText:""},n=0;n<e[s].valueList.length;n++)e[s].valueList[n].checked&&(i.valueId=e[s].valueList[n].id,i.valueText=e[s].valueList[n].value);t.push(i)}return t},setSpecValueStatus:function(){},isCheckedAllSpec:function(){return!this.getCheckedSpecValue().some(function(t){if(0===t.valueId)return!0})},getCheckedSpecKey:function(){var t=this.getCheckedSpecValue().map(function(t){return t.valueId});return console.log("getCheckedSpecKey",t.sort().join("_")),t.sort().join("_")},changeSpecInfo:function(){var t=this.getCheckedSpecValue().filter(function(t){return 0!==t.valueId}).map(function(t){return t.valueText});t.length>0?this.checkedSpecText=t.join("　"):this.checkedSpecText="请选择规格数量"},getCheckedProductItem:function(t){return console.log("this.data.productList",this.productList),this.productList.filter(function(e){return console.log("key",t),console.log("v.goods_specification_ids",e.goods_specification_ids),e.goods_specification_ids===t})},switchAttrPop:function(){!1===this.openAttr&&(this.openAttr=!this.openAttr)},closeAttr:function(){console.log("closeAttr"),this.openAttr=!1},addCannelCollect:function(){var t=this;return I()(k.a.mark(function e(){var s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.CollectAddOrDelete({typeId:0,valueId:t.id});case 2:0===(s=e.sent).errno?"add"===s.data.type?t.collectBackImage=t.hasCollectImage:t.collectBackImage=t.noCollectImage:wx.showToast({image:t.imgSrc+"/static/images/icon_error.png",title:s.errmsg,mask:!0});case 4:case"end":return e.stop()}},e,t)}))()},openCartPage:function(){wx.switchTab({url:"/pages/cart/cart"})},addToCart:function(){var t=this;return I()(k.a.mark(function e(){var s,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.openAttr){e.next=4;break}t.openAttr=!t.openAttr,e.next=19;break;case 4:if(t.isCheckedAllSpec()){e.next=7;break}return wx.showToast({image:t.imgSrc+"/static/images/icon_error.png",title:"规格选择不完整",mask:!0}),e.abrupt("return",!1);case 7:if(s=t.getCheckedProductItem(t.getCheckedSpecKey()),console.log("checkedProduct",s),s&&!(s.length<=0)){e.next=12;break}return wx.showToast({image:t.imgSrc+"/static/images/icon_error.png",title:"库存型号不足",mask:!0}),e.abrupt("return",!1);case 12:if(!(s[0].goods_number<t.number)){e.next=15;break}return wx.showToast({image:t.imgSrc+"/static/images/icon_error.png",title:"库存数量不足",mask:!0}),e.abrupt("return",!1);case 15:return e.next=17,P.CartAdd({goodsId:t.goods.id,number:t.number,productId:s[0].id});case 17:0===(i=e.sent).errno?(wx.showToast({title:"添加成功"}),t.openAttr=!t.openAttr,t.cartGoodsCount=i.data.cartTotal.goodsCount):wx.showToast({image:t.imgSrc+"/static/images/icon_error.png",title:i.errmsg,mask:!0});case 19:case"end":return e.stop()}},e,t)}))()},cutNumber:function(){this.number=this.number-1>1?this.number-1:1},addNumber:function(){this.number=this.number+1}},onShareAppMessage:function(){return{title:"xbyjShop",desc:"仿网易严选小程序商城",path:"/pages/goods/goods"}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("wxhtml:view",{staticClass:"container"},[s("swiper",{staticClass:"goodsimgs",attrs:{"aspect-ratio":1,"indicator-dots":"true",autoplay:"true",auto:"",interval:"3000",duration:"1000"}},t._l(t.gallery,function(t,e){return s("swiper-item",{key:t.id,attrs:{"data-index":e}},[s("img",{attrs:{src:t.img_url,"background-size":"cover"}})])}),1),t._v(" "),s("wxhtml:view",{staticClass:"service-policy"},[s("wxhtml:view",{staticClass:"item"},[t._v("30天无忧退货")]),t._v(" "),s("wxhtml:view",{staticClass:"item"},[t._v("48小时快速退款")]),t._v(" "),s("wxhtml:view",{staticClass:"item"},[t._v("满88元免邮费")])],1),t._v(" "),s("wxhtml:view",{staticClass:"goods-info"},[s("wxhtml:view",{staticClass:"c"},[s("wxhtml:text",{staticClass:"name"},[t._v(t._s(t.goods.name))]),t._v(" "),s("wxhtml:text",{staticClass:"desc"},[t._v(t._s(t.goods.goods_brief))]),t._v(" "),s("wxhtml:text",{staticClass:"price"},[t._v("￥"+t._s(t.goods.retail_price))]),t._v(" "),t.brand.name?s("wxhtml:view",{staticClass:"brand"},[s("wxhtml:navigator",{attrs:{url:"../brand/brandDetail?id="+t.brand.id}},[s("wxhtml:text",[t._v(t._s(t.brand.name))])],1)],1):t._e()],1)],1),t._v(" "),s("wxhtml:view",{staticClass:"section-nav section-attr",on:{click:t.switchAttrPop}},[s("wxhtml:view",{staticClass:"t"},[t._v("请选择规格数量")]),t._v(" "),s("img",{staticClass:"i",attrs:{src:t.imgSrc+"/static/images/address_right.png","background-size":"cover"}})],1),t._v(" "),s("wxhtml:view",{staticClass:"section-nav section-act"},[s("wxhtml:view",{staticClass:"t"},[s("wxhtml:view",{staticClass:"label"},[t._v("1个促销:")]),t._v(" "),s("wxhtml:view",{staticClass:"tag"},[t._v("万圣趴")]),t._v(" "),s("wxhtml:view",{staticClass:"text"},[t._v("全场满499，额外送糖果")])],1),t._v(" "),s("img",{staticClass:"i",attrs:{src:t.imgSrc+"/static/images/address_right.png","background-size":"cover"}})],1),t._v(" "),t.comment.count>0?s("wxhtml:view",{staticClass:"comments"},[s("wxhtml:view",{staticClass:"h"},[s("wxhtml:navigator",{attrs:{url:"../comment/comment?valueId="+t.goods.id+"&typeId=0"}},[s("wxhtml:text",{staticClass:"t"},[t._v("评价("+t._s(t.comment.count>999?"999+":t.comment.count)+")")]),t._v(" "),s("wxhtml:text",{staticClass:"i"},[t._v("查看全部")])],1)],1),t._v(" "),s("wxhtml:view",{staticClass:"b"},[s("wxhtml:view",{staticClass:"item"},[s("wxhtml:view",{staticClass:"info"},[s("wxhtml:view",{staticClass:"user"},[s("img",{attrs:{src:t.comment.data.avatar}}),t._v(" "),s("wxhtml:text",[t._v(t._s(t.comment.data.nickname))])],1),t._v(" "),s("wxhtml:view",{staticClass:"time"},[t._v(t._s(t.comment.data.add_time))])],1),t._v(" "),s("wxhtml:view",{staticClass:"content"},[t._v("\r\n            "+t._s(t.comment.data.content)+"\r\n            ")]),t._v(" "),t.comment.data.pic_list.length?s("wxhtml:view",{staticClass:"imgs"},t._l(t.comment.data.pic_list,function(t,e){return s("image",{key:t.id,staticClass:"img",attrs:{"data-index":e,src:t.pic_url}})}),0):t._e(),t._v(" "),s("wxhtml:view",{staticClass:"spec"},[t._v("白色 2件")])],1)],1)],1):t._e(),t._v(" "),s("wxhtml:view",{staticClass:"goods-attr"},[s("wxhtml:view",{staticClass:"t"},[t._v("商品参数")]),t._v(" "),s("wxhtml:view",{staticClass:"l"},t._l(t.attribute,function(e,i){return s("wxhtml:view",{key:e.name,staticClass:"item",attrs:{"data-index":i}},[s("wxhtml:text",{staticClass:"left"},[t._v(t._s(e.name))]),t._v(" "),s("wxhtml:text",{staticClass:"right"},[t._v(t._s(e.value))])],1)}),1)],1),t._v(" "),s("wxhtml:view",{staticClass:"goods-content",domProps:{innerHTML:t._s(t.goodDetailHTMLstr)}}),t._v(" "),s("wxhtml:view",{staticClass:"common-problem"},[s("wxhtml:view",{staticClass:"h"},[s("wxhtml:view",{staticClass:"line"}),t._v(" "),s("wxhtml:text",{staticClass:"title"},[t._v("常见问题")])],1),t._v(" "),s("wxhtml:view",{staticClass:"b"},t._l(t.issueList,function(e,i){return s("wxhtml:view",{key:e.id,staticClass:"item",attrs:{"data-index":i}},[s("wxhtml:view",{staticClass:"question-box"},[s("wxhtml:text",{staticClass:"spot"}),t._v(" "),s("wxhtml:text",{staticClass:"question"},[t._v(t._s(e.question))])],1),t._v(" "),s("wxhtml:view",{staticClass:"answer"},[t._v("\r\n            "+t._s(e.answer)+"\r\n            ")])],1)}),1)],1),t._v(" "),t.relatedGoods.length?s("wxhtml:view",{staticClass:"related-goods"},[s("wxhtml:view",{staticClass:"h"},[s("wxhtml:view",{staticClass:"line"}),t._v(" "),s("wxhtml:text",{staticClass:"title"},[t._v("大家都在看")])],1),t._v(" "),s("wxhtml:view",{staticClass:"b"},t._l(t.relatedGoods,function(e,i){return s("wxhtml:view",{key:e.id,staticClass:"item",attrs:{"data-index":i}},[s("wxhtml:navigator",{attrs:{url:"/pages/goods/goods?id="+e.id}},[s("img",{staticClass:"img",attrs:{src:e.list_pic_url,"background-size":"cover"}}),t._v(" "),s("wxhtml:text",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("wxhtml:text",{staticClass:"price"},[t._v("￥"+t._s(e.retail_price))])],1)],1)}),1)],1):t._e()],1),t._v(" "),s("wxhtml:view",{directives:[{name:"show",rawName:"v-show",value:t.openAttr,expression:"openAttr"}],staticClass:"attr-pop-box",attrs:{hidden:!t.openAttr}},[s("wxhtml:view",{staticClass:"attr-pop"},[s("wxhtml:view",{staticClass:"close",on:{click:t.closeAttr}},[s("img",{staticClass:"icon",attrs:{src:t.imgSrc+"/static/images/icon_close.png"}})]),t._v(" "),s("wxhtml:view",{staticClass:"img-info"},[s("img",{staticClass:"img",attrs:{src:t.gallery[0].img_url}}),t._v(" "),s("wxhtml:view",{staticClass:"info"},[s("wxhtml:view",{staticClass:"c"},[s("wxhtml:view",{staticClass:"p"},[t._v("价格：￥"+t._s(t.goods.retail_price))]),t._v(" "),t.productList.length?s("wxhtml:view",{staticClass:"a"},[t._v("已选择："+t._s(t.checkedSpecText))]):t._e()],1)],1)],1),t._v(" "),s("wxhtml:view",{staticClass:"spec-con"},[t._l(t.specificationList,function(e,i){return s("wxhtml:view",{key:e.specification_id,staticClass:"spec-item",attrs:{"data-index":i}},[s("wxhtml:view",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("wxhtml:view",{staticClass:"values"},t._l(e.valueList,function(e,i){return s("wxhtml:view",{key:e.id,class:e.checked?"selected value":"value",attrs:{"data-value-id":e.id,"data-index":i,"data-name-id":e.specification_id},on:{click:t.clickSkuValue}},[t._v(t._s(e.value))])}),1)],1)}),t._v(" "),s("wxhtml:view",{staticClass:"number-item"},[s("wxhtml:view",{staticClass:"name"},[t._v("数量")]),t._v(" "),s("wxhtml:view",{staticClass:"selnum"},[s("wxhtml:view",{staticClass:"cut",on:{click:t.cutNumber}},[t._v("-")]),t._v(" "),s("input",{staticClass:"number",attrs:{disabled:"true",type:"number"},domProps:{value:t.number}}),t._v(" "),s("wxhtml:view",{staticClass:"add",on:{click:t.addNumber}},[t._v("+")])],1)],1)],2)],1)],1),t._v(" "),s("wxhtml:view",{staticClass:"bottom-btn"},[s("wxhtml:view",{staticClass:"l l-collect",on:{click:t.addCannelCollect}},[s("img",{staticClass:"icon",attrs:{src:t.collectBackImage}})]),t._v(" "),s("wxhtml:view",{staticClass:"l l-cart"},[s("wxhtml:view",{staticClass:"box"},[s("wxhtml:text",{staticClass:"cart-count"},[t._v(t._s(t.cartGoodsCount))]),t._v(" "),s("img",{staticClass:"icon",attrs:{src:t.imgSrc+"/static/images/ic_menu_shoping_nor.png"},on:{click:t.openCartPage}})],1)],1),t._v(" "),s("wxhtml:view",{staticClass:"c"},[t._v("立即购买")]),t._v(" "),s("wxhtml:view",{staticClass:"r",on:{click:t.addToCart}},[t._v("加入购物车")])],1)],1)},staticRenderFns:[]};var J=s("C7Lr")(q,W,!1,function(t){s("rW6i")},null,null).exports,X={name:"test",methods:{bindViewTap:function(){console.log("../logs/main"),console.log(this.$store.state.banner),console.log(this.router),wx.showToast({title:"操作成功！"})}}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("wxhtml:view",{attrs:{id:"container"},on:{click:this.bindViewTap}},[e("p",[this._v("123")])])},staticRenderFns:[]};var K=s("C7Lr")(X,Z,!1,function(t){s("MbM6")},"data-v-75d8a816",null).exports;i.a.use(o.a);var Q=new o.a({routes:[{path:"/",name:"index",component:d,alias:"/pages/index/main"},{path:"/counter",name:"counter",component:p,alias:"/pages/counter/main"},{path:"/logs",name:"logs",component:C,alias:"/pages/logs/main"},{path:"/goods",name:"goods",component:J,alias:"/pages/goods/main"},{path:"/test",name:"test",component:K,alias:"/pages/test/main"}]});i.a.use(m.a);var Y=new m.a.Store({state:{newGoods:[],hotGoods:[],topics:[],brands:[],floorGoods:[],banner:[],channel:[]},mutations:{getIndexData:function(t,e){t.newGoods=e.data.newGoodsList,t.hotGoods=e.data.hotGoodsList,t.topics=e.data.topicList,t.brands=e.data.brandList,t.floorGoods=e.data.categoryList,t.banner=e.data.banner,t.channel=e.data.channel}},actions:{getIndexData:function(t){var e=this,s=t.commit;return I()(k.a.mark(function t(){var i;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getIndexData();case 2:if(0===(i=t.sent).errno){t.next=5;break}return t.abrupt("return");case 5:s("getIndexData",i);case 6:case"end":return t.stop()}},t,e)}))()}}});i.a.config.productionTip=!1,i.a.mixin({data:function(){return{router:"/",imgSrc:"http://static2.51eim.com/Public/LifeQuan/Shop/v2"}},methods:{newroot:function(){return this.$route},navigatePageTo:function(t){this.$router.push(t)},reLaunchPageTo:function(t){this.$router.replace(t)}},created:function(){var t=document.documentElement.offsetWidth/23.4375;document.documentElement.style.fontSize=t+"px",console.log(t),console.log("chrome")}}),new i.a({el:"#app",router:Q,components:{App:a},template:"<App/>",store:Y,wx:$})},rW6i:function(t,e){},xK4k:function(t,e){},zM9A:function(t,e,s){"use strict";var i=s("v4/V"),n=(i.a,Boolean,String,String,Number,String,String,Boolean,Object,Boolean,{mixins:[i.a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(t){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[s("transition",{attrs:{name:t.maskTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),s("transition",{attrs:{name:t.dialogTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},staticRenderFns:[]};var o=s("C7Lr")(n,a,!1,function(t){s("4PUv")},null,null).exports,r=(Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:o},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){var e=this;this.$emit("input",t),t&&(this.showInput&&(this.msg="",setTimeout(function(){e.$refs.input&&e.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(t){this.msg=t},setInputFocus:function(t){t&&t.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-confirm"},[s("x-dialog",{attrs:{"dialog-class":"android"===t.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":t.maskTransition,"dialog-transition":"android"===t.theme?"vux-fade":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){return t.$emit("on-hide")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[t.title?s("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!t.showContent}},[s("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.showContent?[t.showInput?s("div",{staticClass:"vux-prompt"},["checkbox"===t.getInputAttrs().type?s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.msg)?t._i(t.msg,null)>-1:t.msg},on:{touchend:t.setInputFocus,change:function(e){var s=t.msg,i=e.target,n=!!i.checked;if(Array.isArray(s)){var a=t._i(s,null);i.checked?a<0&&(t.msg=s.concat([null])):a>-1&&(t.msg=s.slice(0,a).concat(s.slice(a+1)))}else t.msg=n}}},"input",t.getInputAttrs(),!1)):"radio"===t.getInputAttrs().type?s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.msg,null)},on:{touchend:t.setInputFocus,change:function(e){t.msg=null}}},"input",t.getInputAttrs(),!1)):s("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:t.getInputAttrs().type},domProps:{value:t.msg},on:{touchend:t.setInputFocus,input:function(e){e.target.composing||(t.msg=e.target.value)}}},"input",t.getInputAttrs(),!1))]):s("div",{staticClass:"weui-dialog__bd"},[t._t("default",[s("div",{domProps:{innerHTML:t._s(t.content)}})])],2)]:t._e(),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[t.showCancelButton?s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||"取消"))]):t._e(),t._v(" "),t.showConfirmButton?s("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+t.confirmType,attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||"确定"))]):t._e()])],2)],1)},staticRenderFns:[]};var l=s("C7Lr")(r,c,!1,function(t){s("JkAJ")},null,null);e.a=l.exports}},["j7op"]);